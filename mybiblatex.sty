\ProvidesPackage{mybiblatex}

%%%biblatex
\usepackage[backend=biber,sorting=hot,maxbibnames=1,style=verbose,language=italian]{biblatex}

\renewcommand*{\bibsetup}{% bibsetup
  \interlinepenalty=10000\relax % default is 5000
  \widowpenalty=10000\relax
  \clubpenalty=10000\relax
  \raggedbottom
  \frenchspacing
  \biburlsetup}


%%% biblatex sorting schemes
\DeclareSortingScheme{hot}{
\sort{\field{year}}
\sort{\field{name}}
}

%\newcommand{\bibheader}{}

\defbibheading{bibchap}[\bibname]{% heading chapter
\addtocounter{cherrychapter}{-1}% conta un capitolo in piu che tolgo
\chapter{#1}%
}

%\newcommand{\bibheader}{bibchap}
\defbibheading{bibsec}[\bibname]{% heading section 
\section{#1}%
}

\defbibheading{bibsubsec}[\bibname]{% heading subsection
\subsection{#1}%

}

%%biblatex filters
\defbibfilter{dadigerire}{keyword={toread}}
%%%
%\defbibfilter{LUA}{keyword={SSM} or keyword={uncertainties} or keyword={Y} or keyword={ssm input} or keyword={calibration} or keyword={He} or keyword={input parameters} or keyword={ssm} or keyword={astrophysical factor} or keyword={nuclear reactions}}

%%% bibliography environment ... (printbibliography left aligned)
\DeclareFieldFormat{labelnumberwidth}{#1\adddot}%

% default bibliography environment (from biblatex.sty)
\defbibenvironment{bibliography} 
  {\list{}{%
     \leftmargin\bibhang 
     \itemindent-\leftmargin 
     \itemsep\bibitemsep
      \parsep\bibparsep}}
  {\endlist}
  {\item}

% 'numeric' bibliography environment (from numeric.bbx)
\defbibenvironment{bibliography}
  {\list
     {\printtext[labelnumberwidth]{%
        \printfield{prefixnumber}%
        \printfield{labelnumber}}}
     {\setlength{\labelwidth}{\labelnumberwidth}%
      \setlength{\leftmargin}{\labelwidth}%
      \setlength{\labelsep}{\biblabelsep}%
     \addtolength{\leftmargin}{\labelsep}%
      \addtolength{\leftmargin}{-\labelsep}% <-- changed
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}}%
      \renewcommand*{\makelabel}[1]{\hss##1}}
  {\endlist}
  {\item}
